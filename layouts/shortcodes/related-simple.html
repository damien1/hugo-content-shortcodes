{{ $count := .Get "count" | default 6 }}
{{ $tag := .Get "tag" }}
<!-- {{ $related := (where .Site.RegularPages "Type" "blog") }} -->
<!-- {{ $related := .Site.RegularPages.RelatedTo ( keyVals "tags" "hugo") }} -->
<!-- {{ $related := where .Site.RegularPages ".Params.tags" "eq" "hugo" }} -->

{{ if .IsNamedParams }}
<div class="widget mb-5">
  <h4 class="mb-4 widget-title">Related Posts</h4>
    <ul>
      {{ range first $count .Site.Taxonomies.tags.video }}
          <li><a href="{{ .Page.RelPermalink }}">{{ .Page.Title }}</a></li>
      {{ end }}
    </ul>
</div>
{{ else }}
{{ errorf "missing value for param 'name': %s" .Position }}
{{ end }}